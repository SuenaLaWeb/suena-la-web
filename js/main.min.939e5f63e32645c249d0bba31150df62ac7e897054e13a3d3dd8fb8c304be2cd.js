(()=>{document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("main-content");if(!e){console.error("Error: No se encontr\xF3 el contenedor #main-content. La navegaci\xF3n din\xE1mica no funcionar\xE1.");return}const t=async(t,n=!0)=>{try{const s=await fetch(t);if(!s.ok)throw new Error(`Error HTTP! Estado: ${s.status}`);const i=await s.text(),a=new DOMParser,r=a.parseFromString(i,"text/html"),o=r.getElementById("main-content");if(o){e.innerHTML=o.innerHTML,n&&window.history.pushState({path:t},"",t),window.scrollTo(0,0),console.log(`Contenido cargado din\xE1micamente para: ${t}`);const s=new Event("contentLoadedDynamically");document.dispatchEvent(s)}else console.error(`Error: No se encontr\xF3 #main-content en la p\xE1gina cargada din\xE1micamente: ${t}`),window.location.href=t}catch(e){console.error("Error al cargar el contenido:",e),window.location.href=t}};document.body.addEventListener("click",e=>{const n=e.target.closest("a");if(n&&n.origin===window.location.origin&&!n.hasAttribute("data-no-ajax")&&n.getAttribute("target")!=="_blank"){e.preventDefault();const s=n.getAttribute("href");s&&s!==window.location.pathname&&t(s)}}),window.addEventListener("popstate",e=>{t(window.location.pathname,!1)}),window.history.replaceState({path:window.location.pathname},"",window.location.pathname)})})()